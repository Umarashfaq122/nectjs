(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,46897,e=>{"use strict";let a=(0,e.i(75254).default)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);e.s(["MapPin",()=>a],46897)},86536,e=>{"use strict";let a=(0,e.i(75254).default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>a],86536)},23750,e=>{"use strict";var a=e.i(43476),r=e.i(47163);function t({className:e,type:t,...s}){return(0,a.jsx)("input",{type:t,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...s})}e.s(["Input",()=>t])},88844,71428,e=>{"use strict";let a=(0,e.i(75254).default)("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);e.s(["Package",()=>a],88844);var r=e.i(43476),t=e.i(47163);function s({className:e,...a}){return(0,r.jsx)("div",{"data-slot":"skeleton",className:(0,t.cn)("bg-accent animate-pulse rounded-md",e),...a})}e.s(["Skeleton",()=>s],71428)},87336,e=>{"use strict";var a=e.i(43476),r=e.i(71645),t=e.i(30030),s=e.i(48425),l="Progress",[i,n]=(0,t.createContextScope)(l),[o,d]=i(l),c=r.forwardRef((e,r)=>{var t,l;let{__scopeProgress:i,value:n=null,max:d,getValueLabel:c=h,...u}=e;(d||0===d)&&!f(d)&&console.error((t=`${d}`,`Invalid prop \`max\` of value \`${t}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let m=f(d)?d:100;null===n||g(n,m)||console.error((l=`${n}`,`Invalid prop \`value\` of value \`${l}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let v=g(n,m)?n:null,j=p(v)?c(v,m):void 0;return(0,a.jsx)(o,{scope:i,value:v,max:m,children:(0,a.jsx)(s.Primitive.div,{"aria-valuemax":m,"aria-valuemin":0,"aria-valuenow":p(v)?v:void 0,"aria-valuetext":j,role:"progressbar","data-state":x(v,m),"data-value":v??void 0,"data-max":m,...u,ref:r})})});c.displayName=l;var u="ProgressIndicator",m=r.forwardRef((e,r)=>{let{__scopeProgress:t,...l}=e,i=d(u,t);return(0,a.jsx)(s.Primitive.div,{"data-state":x(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...l,ref:r})});function h(e,a){return`${Math.round(e/a*100)}%`}function x(e,a){return null==e?"indeterminate":e===a?"complete":"loading"}function p(e){return"number"==typeof e}function f(e){return p(e)&&!isNaN(e)&&e>0}function g(e,a){return p(e)&&!isNaN(e)&&e<=a&&e>=0}m.displayName=u;var v=e.i(47163);function j({className:e,value:r,...t}){return(0,a.jsx)(c,{"data-slot":"progress",className:(0,v.cn)("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",e),...t,children:(0,a.jsx)(m,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(r||0)}%)`}})})}e.s(["Progress",()=>j],87336)},50961,e=>{"use strict";var a=e.i(43476),r=e.i(71645),t=e.i(70065),s=e.i(46897),l=e.i(88844),i=e.i(86536),n=e.i(67881),o=e.i(23750),d=e.i(87336),c=e.i(71428);function u(){let[e,u]=(0,r.useState)([]),[m,h]=(0,r.useState)([]),[x,p]=(0,r.useState)({total_fields:0,total_area:0,total_area_acres:0,cultivatable_area_acres:0,total_farmers:0}),[f,g]=(0,r.useState)(!0),[v,j]=(0,r.useState)(""),[b,y]=(0,r.useState)("all"),w=localStorage.getItem("authToken"),N=async()=>{g(!0);let e="https://rda.ngrok.app/api/fields/",a=[];try{for(;e;){let r=await fetch(e.replace("http://","https://"),{headers:{Authorization:`Bearer ${w}`,"ngrok-skip-browser-warning":"true"}}),t=await r.json();a.push(...t.data||[]),e=t.next?t.next.replace("http://","https://"):null}u(a)}catch(e){console.error("Error fetching fields:",e),u([])}finally{g(!1)}},C=async()=>{try{let e=await fetch("https://rda.ngrok.app/api/dashboard/stats/",{headers:{Authorization:`Bearer ${w}`}}),a=await e.json();p(a)}catch(e){console.error("Error fetching stats:",e)}},k=async()=>{try{let e=await fetch("https://rda.ngrok.app/api/subadmin/assigned-farmers/",{headers:{Authorization:`Bearer ${w}`,"ngrok-skip-browser-warning":"true"}}),a=await e.json();h(a.assigned_farmers||[])}catch(e){console.error("Error fetching farmers:",e)}};(0,r.useEffect)(()=>{w&&(N(),C(),k())},[w]);let _=e.filter(e=>e.field_name.toLowerCase().includes(v.toLowerCase())||e.location.toLowerCase().includes(v.toLowerCase())||e.farmer_name.toLowerCase().includes(v.toLowerCase()));return(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"Farms Management"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Data loaded directly from API"})]}),(0,a.jsxs)(n.Button,{variant:"outline",children:[(0,a.jsx)(l.Package,{className:"h-4 w-4 mr-2"}),"Export"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,a.jsx)(t.Card,{children:(0,a.jsxs)(t.CardContent,{className:"pt-6",children:[(0,a.jsx)("p",{className:"text-sm",children:"Total Farmers"}),(0,a.jsx)("h3",{className:"text-2xl font-bold",children:x.total_farmers})]})}),(0,a.jsx)(t.Card,{children:(0,a.jsxs)(t.CardContent,{className:"pt-6",children:[(0,a.jsx)("p",{className:"text-sm",children:"Total Farms"}),(0,a.jsx)("h3",{className:"text-2xl font-bold",children:x.total_fields})]})}),(0,a.jsx)(t.Card,{children:(0,a.jsxs)(t.CardContent,{className:"pt-6",children:[(0,a.jsx)("p",{className:"text-sm",children:"Total Area"}),(0,a.jsxs)("h3",{className:"text-2xl font-bold",children:[x.total_area," acres"]})]})}),(0,a.jsx)(t.Card,{children:(0,a.jsxs)(t.CardContent,{className:"pt-6",children:[(0,a.jsx)("p",{className:"text-sm",children:"Cultivable Area"}),(0,a.jsxs)("h3",{className:"text-2xl font-bold",children:[x.cultivatable_area_acres," acres"]}),(0,a.jsx)(d.Progress,{value:x.cultivatable_area_acres,className:"mt-2"})]})})]}),(0,a.jsx)(o.Input,{placeholder:"Search farms...",value:v,onChange:e=>j(e.target.value)}),f?(0,a.jsx)(c.Skeleton,{className:"h-40"}):(0,a.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:_.map(e=>(0,a.jsxs)(t.Card,{children:[(0,a.jsxs)(t.CardHeader,{children:[(0,a.jsx)(t.CardTitle,{children:e.field_name}),(0,a.jsxs)(t.CardDescription,{children:[(0,a.jsx)(s.MapPin,{className:"inline h-4 w-4 mr-1"}),e.location]})]}),(0,a.jsxs)(t.CardContent,{children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Farmer:"})," ",e.farmer_name]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Total Area:"})," ",e.total_area," acres"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Cultivable:"})," ",e.cultivatable_area," acres"]})]}),(0,a.jsx)(t.CardFooter,{className:"flex justify-end",children:(0,a.jsxs)(n.Button,{size:"sm",variant:"ghost",children:[(0,a.jsx)(i.Eye,{className:"h-4 w-4 mr-1"}),"View"]})})]},e.id))})]})}e.s(["FarmsList",()=>u])}]);