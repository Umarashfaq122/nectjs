(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,46897,e=>{"use strict";let t=(0,e.i(75254).default)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);e.s(["MapPin",()=>t],46897)},94179,e=>{"use strict";var t=e.i(43476),a=e.i(91918),s=e.i(25913),r=e.i(47163);let i=(0,s.cva)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function l({className:e,variant:s,asChild:l=!1,...n}){let d=l?a.Slot:"span";return(0,t.jsx)(d,{"data-slot":"badge",className:(0,r.cn)(i({variant:s}),e),...n})}e.s(["Badge",()=>l])},63059,e=>{"use strict";let t=(0,e.i(75254).default)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);e.s(["ChevronRight",()=>t],63059)},3116,e=>{"use strict";let t=(0,e.i(75254).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>t],3116)},39544,82365,e=>{"use strict";var t=e.i(75254);let a=(0,t.default)("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);e.s(["Droplets",()=>a],39544);let s=(0,t.default)("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]);e.s(["Wind",()=>s],82365)},78894,41240,e=>{"use strict";var t=e.i(75254);let a=(0,t.default)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);e.s(["AlertTriangle",()=>a],78894);let s=(0,t.default)("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);e.s(["Lightbulb",()=>s],41240)},10289,e=>{"use strict";let t=(0,e.i(75254).default)("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);e.s(["Bug",()=>t],10289)},81947,e=>{"use strict";var t=e.i(43476),a=e.i(25913),s=e.i(47163);let r=(0,a.cva)("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function i({className:e,variant:a,...i}){return(0,t.jsx)("div",{"data-slot":"alert",role:"alert",className:(0,s.cn)(r({variant:a}),e),...i})}function l({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"alert-description",className:(0,s.cn)("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...a})}e.s(["Alert",()=>i,"AlertDescription",()=>l])},14631,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(70065),r=e.i(67881),i=e.i(94179),l=e.i(46897),n=e.i(63059),d=e.i(37727);function o(){let[e,o]=(0,a.useState)([{id:1,name:"Zone-1",location:"—",totalArea:0,farmsCount:0,fields:[]},{id:2,name:"Zone-2",location:"—",totalArea:0,farmsCount:0,fields:[]},{id:3,name:"Zone-3",location:"—",totalArea:0,farmsCount:0,fields:[]},{id:4,name:"Zone-4",location:"—",totalArea:0,farmsCount:0,fields:[]},{id:5,name:"Zone-5",location:"—",totalArea:0,farmsCount:0,fields:[]},{id:6,name:"Zone-6",location:"—",totalArea:0,farmsCount:0,fields:[]}]),[c,m]=(0,a.useState)(!1),[p,h]=(0,a.useState)(null),u=async()=>{let e=localStorage.getItem("authToken"),t="https://rda.ngrok.app/api/fields/",a=[];try{for(;t;){let s=t.replace("http://","https://"),r=await fetch(s,{headers:{Authorization:`Bearer ${e}`,"ngrok-skip-browser-warning":"true"}});if(!r.ok)throw Error(`HTTP error ${r.status}`);let i=await r.json();a.push(...i.data||[]),t=i.next?i.next.replace("http://","https://"):null}return a}catch(e){return console.error("Error fetching all fields:",e),[]}};return(0,a.useEffect)(()=>{(async()=>{let e;m(!0);let t=(e={},(await u()).forEach(t=>{let a=t.zone_ids;e[a]||(e[a]={id:Number(a.split("-")[1]),name:a,location:t.location,totalArea:0,farmsCount:0,fields:[]}),e[a].fields.push(t),e[a].farmsCount+=1,e[a].totalArea+=Number(t.total_area||0)}),e);o(e=>e.map(e=>t[e.name]?{...e,...t[e.name]}:e)),m(!1)})()},[]),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",children:"Farm Zones Overview"}),c&&(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Loading…"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.map(e=>(0,t.jsxs)(s.Card,{className:"hover:shadow-lg transition",children:[(0,t.jsx)(s.CardHeader,{children:(0,t.jsxs)(s.CardTitle,{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{children:e.name}),(0,t.jsxs)(i.Badge,{children:[e.farmsCount," Farms"]})]})}),(0,t.jsxs)(s.CardContent,{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)(l.MapPin,{size:14}),(0,t.jsx)("span",{children:e.location})]}),(0,t.jsxs)("div",{className:"text-sm font-medium",children:["Total Area: ",e.totalArea," acres"]}),(0,t.jsxs)(r.Button,{className:"w-full mt-3",onClick:()=>h(e),disabled:0===e.farmsCount,children:["View Farms",(0,t.jsx)(n.ChevronRight,{className:"ml-2",size:16})]})]})]},e.id))}),p&&(0,t.jsx)("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-xl w-full max-w-3xl max-h-[90vh] overflow-hidden",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center border-b p-4",children:[(0,t.jsxs)("h3",{className:"text-lg font-bold",children:[p.name," – Farms"]}),(0,t.jsx)(r.Button,{size:"icon",variant:"ghost",onClick:()=>h(null),children:(0,t.jsx)(d.X,{})})]}),(0,t.jsx)("div",{className:"p-4 space-y-3 overflow-y-auto max-h-[75vh]",children:p.fields.map(e=>(0,t.jsxs)("div",{className:"border rounded-lg p-4 flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold",children:e.field_name}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Farmer: ",e.farmer_name]}),(0,t.jsxs)("p",{className:"text-sm",children:["Ownership: ",e.ownership_type_display]}),(0,t.jsxs)("p",{className:"text-sm",children:["Sub Admin: ",e.subadmin_name]})]}),(0,t.jsxs)("div",{className:"text-right font-medium",children:[e.total_area," acres"]})]},e.id))})]})})]})}e.s(["FarmOverview",()=>o])},62669,e=>{"use strict";var t=e.i(43476),a=e.i(70065),s=e.i(94179),r=e.i(95468),i=e.i(3116);function l(){let e=[{name:"Pre-Sowing",description:"Land preparation and soil testing",completed:!1,icon:i.Clock},{name:"Sowing & Emergence",description:"Seed sowing and germination tracking",completed:!0,icon:r.CheckCircle2},{name:"Growth & Tillering",description:"Plant development and fertilizer application",completed:!0,icon:r.CheckCircle2},{name:"Heading & Flowering",description:"Reproductive stage monitoring",completed:!1,icon:i.Clock},{name:"Maturity & Harvesting",description:"Final stage and harvest readiness",completed:!1,icon:i.Clock}];return(0,t.jsxs)(a.Card,{children:[(0,t.jsxs)(a.CardHeader,{children:[(0,t.jsx)(a.CardTitle,{children:"Crop Growth Stages"}),(0,t.jsx)(a.CardDescription,{children:"Track development across all stages"})]}),(0,t.jsx)(a.CardContent,{children:(0,t.jsx)("div",{className:"space-y-3",children:e.map((e,a)=>(0,t.jsxs)("div",{className:"flex items-start gap-4 pb-3 border-b border-border last:border-b-0 last:pb-0",children:[(0,t.jsx)("div",{className:"mt-1",children:(0,t.jsx)(e.icon,{className:`w-6 h-6 ${e.completed?"text-primary":"text-muted-foreground"}`})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h4",{className:"font-semibold",children:e.name}),(0,t.jsx)(s.Badge,{variant:e.completed?"default":"outline",children:e.completed?"Completed":"Pending"})]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:e.description})]})]},e.name))})})]})}e.s(["CropStageTracker",()=>l])},83114,e=>{"use strict";var t=e.i(43476),a=e.i(70065),s=e.i(81947),r=e.i(78894),i=e.i(41240),l=e.i(39544),n=e.i(10289),d=e.i(82365);function o(){let e=[{type:"warning",title:"Low Soil Moisture",description:"Zone 1 Farm requires irrigation",icon:l.Droplets},{type:"warning",title:"Pest Alert",description:"Armyworm detected in Maize field",icon:n.Bug},{type:"info",title:"Weather Advisory",description:"Heavy winds expected next 48 hours",icon:d.Wind}];return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)(a.Card,{children:[(0,t.jsxs)(a.CardHeader,{children:[(0,t.jsxs)(a.CardTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(r.AlertTriangle,{size:20}),"Active Alerts"]}),(0,t.jsx)(a.CardDescription,{children:"5 alerts requiring attention"})]}),(0,t.jsx)(a.CardContent,{className:"space-y-3",children:e.map((e,a)=>(0,t.jsxs)(s.Alert,{className:"border-l-4 border-accent",children:[(0,t.jsx)(e.icon,{className:"h-4 w-4 text-accent"}),(0,t.jsxs)(s.AlertDescription,{children:[(0,t.jsx)("p",{className:"font-semibold text-sm",children:e.title}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:e.description})]})]},a))})]}),(0,t.jsxs)(a.Card,{children:[(0,t.jsxs)(a.CardHeader,{children:[(0,t.jsxs)(a.CardTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(i.Lightbulb,{size:20}),"Recommendations"]}),(0,t.jsx)(a.CardDescription,{children:"Next steps for optimal yield"})]}),(0,t.jsx)(a.CardContent,{children:(0,t.jsx)("ul",{className:"space-y-2",children:["Apply pre-emergent weedicide within 48 hours","Schedule 1st irrigation for Wheat","Check soil pH before Maize sowing","Apply bio-stimulants for better growth"].map((e,a)=>(0,t.jsxs)("li",{className:"flex items-start gap-2 text-sm",children:[(0,t.jsx)("span",{className:"text-primary font-bold mt-0.5",children:"•"}),(0,t.jsx)("span",{className:"text-foreground",children:e})]},a))})})]})]})}e.s(["AlertsAndRecommendations",()=>o])},81640,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(70065),r=e.i(31674);let i=(0,e.i(75254).default)("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);var l=e.i(46948);function n(){let[e,n]=(0,a.useState)(null),[d,o]=(0,a.useState)(!0);(0,a.useEffect)(()=>{(async()=>{try{let e=localStorage.getItem("authToken");if(!e)return;let t=await fetch("https://rda.ngrok.app/api/subadmin/assigned-farmers/",{headers:{Authorization:`Bearer ${e}`,"ngrok-skip-browser-warning":"true"}});if(!t.ok)throw Error(`API Error: ${t.status}`);let a=await t.json();console.log("✅ Dashboard Stats:",a),console.log("My Visits:",a.my_visits),console.log("Total Visits:",a.total_visits),n(a)}catch(e){console.error("❌ Failed to load dashboard stats:",e)}finally{o(!1)}})()},[]);let c=[{label:"Total FOAS",value:e?.total_subadmins,icon:r.Leaf,bg:"bg-primary/10",color:"text-primary"},{label:"Total Farmers",value:e?.total_farmers,icon:l.Sprout,bg:"bg-green-500/10",color:"text-green-600"},{label:"Total Farms",value:e?.total_fields,icon:i,bg:"bg-secondary/10",color:"text-secondary"},{label:"Total Area",value:e?.total_area_acres?`${e.total_area_acres} acres`:"—",icon:i,bg:"bg-secondary/10",color:"text-secondary"}];return(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:c.map(e=>(0,t.jsx)(s.Card,{children:(0,t.jsx)(s.CardContent,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.label}),(0,t.jsx)("p",{className:"text-2xl font-bold mt-1",children:d?"...":e.value||0})]}),(0,t.jsx)("div",{className:`${e.bg} p-3 rounded-lg`,children:(0,t.jsx)(e.icon,{className:`${e.color} w-6 h-6`})})]})})},e.label))})}e.s(["QuickStats",()=>n],81640)}]);