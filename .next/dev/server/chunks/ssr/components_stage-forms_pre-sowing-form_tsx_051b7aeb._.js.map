{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/Nextjs/landdirectorateDashboardVersion1-main/landdirectorateDashboardVersion1-main/components/stage-forms/pre-sowing-form.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect, useRef } from \"react\";\nimport {\n  Card,\n  CardContent,\n  CardHeader,\n  CardTitle,\n  CardDescription,\n  CardFooter,\n} from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { Label } from \"@/components/ui/label\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogDescription,\n  DialogFooter,\n} from \"@/components/ui/dialog\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport {\n  MapPin,\n  Calendar,\n  Sprout,\n  Leaf,\n  CheckCircle,\n  XCircle,\n  ChevronRight,\n  Eye,\n  Filter,\n  Search,\n  Download,\n  BarChart3,\n  Wheat,\n  AlertCircle,\n  TrendingUp,\n  Package,\n  Clock,\n  Users,\n  Crop,\n  LandPlot,\n  ChevronDown,\n  ChevronUp,\n  Loader2,\n  Grid,\n  List,\n  MoreVertical,\n  ArrowUpDown,\n  Activity,\n  PieChart,\n  Target,\n} from \"lucide-react\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport { Progress } from \"@/components/ui/progress\";\n\ninterface FarmActivityData {\n  id: number;\n  residue_management_display: string;\n  field_name: string;\n  crop_name: string;\n  land_prepared: boolean;\n  preparation_date: string | null;\n  methods_used: string;\n  organic_amendments_used: string;\n  residue_management: string;\n  expected_sowing_date: string | null;\n  reason_not_prepared: string | null;\n  created_at: string;\n  field: number;\n  activity_type?: string;\n  status?: string;\n  notes?: string;\n  farmer_id?: number;\n  farmer_name?: string;\n  land_preparation_id?: number;\n  average_yield?: number;\n  cultivated_area_last_year?: number | null;\n  planned_area_this_year?: number | null;\n  variety_cultivated?: string;\n  crop_history_id?: number;\n  crop_rotation_pattern?: string;\n}\n\nexport function PreSowingForm() {\n  const [farmActivities, setFarmActivities] = useState<FarmActivityData[]>([]);\n  const [filteredData, setFilteredData] = useState<FarmActivityData[]>([]);\n  const [selectedRecord, setSelectedRecord] = useState<FarmActivityData | null>(null);\n  const [isDetailModalOpen, setIsDetailModalOpen] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [filterField, setFilterField] = useState<string>(\"all\");\n  const [activeTab, setActiveTab] = useState(\"all\");\n  const [activityTypeFilter, setActivityTypeFilter] = useState(\"land_preparation\");\n  const [nextUrl, setNextUrl] = useState<string | null>(null);\n  const [isFiltered, setIsFiltered] = useState(false);\n  const [isLoadingMore, setIsLoadingMore] = useState(false);\n  const [viewMode, setViewMode] = useState<\"grid\" | \"list\">(\"grid\");\n  const [sortConfig, setSortConfig] = useState<{ key: string; direction: 'asc' | 'desc' }>({\n    key: 'created_at',\n    direction: 'desc'\n  });\n  \n  const fetchedPages = useRef<Set<number>>(new Set());\n  const currentPage = useRef<number>(1);\n\n  // Stats calculation\n  const totalRecords = farmActivities.length;\n  const landPreparedCount = farmActivities.filter(record => record.land_prepared).length;\n  const landNotPreparedCount = farmActivities.filter(record => !record.land_prepared).length;\n  const uniqueFieldsCount = [...new Set(farmActivities.map(record => record.field))].length;\n  const uniqueFarmersCount = [...new Set(farmActivities.filter(record => record.farmer_id).map(record => record.farmer_id))].length;\n  const totalPlannedArea = farmActivities.reduce((sum, record) => sum + (record.planned_area_this_year || 0), 0);\n  const preparedPercentage = totalRecords > 0 ? (landPreparedCount / totalRecords) * 100 : 0;\n\n  // Unique fields\n  const uniqueFields = Array.from(\n    new Map(\n      farmActivities.map(record => [\n        record.field,\n        { id: record.field, field_name: record.field_name },\n      ])\n    ).values()\n  );\n\n  // Residue management breakdown\n  const residueBreakdown = farmActivities.reduce((acc, record) => {\n    const type = record.residue_management?.toLowerCase() || 'not_specified';\n    acc[type] = (acc[type] || 0) + 1;\n    return acc;\n  }, {} as Record<string, number>);\n\n  useEffect(() => {\n    fetchFarmActivities();\n  }, []);\n\n  // Filter and sort data\n  useEffect(() => {\n    let results = [...farmActivities];\n    let filtered = false;\n\n    // Apply search filter\n    if (searchQuery.trim() !== \"\") {\n      const query = searchQuery.toLowerCase();\n      results = results.filter(\n        record =>\n          record.crop_name?.toLowerCase().includes(query) ||\n          record.field_name?.toLowerCase().includes(query) ||\n          record.farmer_name?.toLowerCase().includes(query) ||\n          record.variety_cultivated?.toLowerCase().includes(query)\n      );\n      filtered = true;\n    }\n\n    // Apply field filter\n    if (filterField !== \"all\") {\n      const fieldId = parseInt(filterField);\n      results = results.filter(record => record.field === fieldId);\n      filtered = true;\n    }\n\n    // Apply tab filter\n    if (activeTab === \"prepared\") {\n      results = results.filter(record => record.land_prepared);\n      filtered = true;\n    } else if (activeTab === \"not-prepared\") {\n      results = results.filter(record => !record.land_prepared);\n      filtered = true;\n    } else if (activeTab === \"burnt\") {\n      results = results.filter(record => record.residue_management?.toLowerCase() === \"burnt\");\n      filtered = true;\n    } else if (activeTab === \"incorporated\") {\n      results = results.filter(record => record.residue_management?.toLowerCase() === \"incorporated\");\n      filtered = true;\n    }\n\n    // Apply activity type filter\n    if (activityTypeFilter !== \"all\") {\n      results = results.filter(record => \n        record.activity_type === activityTypeFilter || \n        (!record.activity_type && activityTypeFilter === \"land_preparation\")\n      );\n      filtered = true;\n    }\n\n    // Apply sorting\n    results.sort((a, b) => {\n      const aValue = a[sortConfig.key as keyof FarmActivityData];\n      const bValue = b[sortConfig.key as keyof FarmActivityData];\n      \n      if (aValue == null && bValue == null) return 0;\n      if (aValue == null) return 1;\n      if (bValue == null) return -1;\n      \n      if (typeof aValue === 'string' && typeof bValue === 'string') {\n        return sortConfig.direction === 'asc' \n          ? aValue.localeCompare(bValue)\n          : bValue.localeCompare(aValue);\n      }\n      \n      if (typeof aValue === 'number' && typeof bValue === 'number') {\n        return sortConfig.direction === 'asc' ? aValue - bValue : bValue - aValue;\n      }\n      \n      return 0;\n    });\n\n    setFilteredData(results);\n    setIsFiltered(filtered);\n  }, [searchQuery, filterField, activeTab, farmActivities, activityTypeFilter, sortConfig]);\n\n  const fetchFarmActivities = async () => {\n    try {\n      setLoading(true);\n      fetchedPages.current.clear();\n      currentPage.current = 1;\n      \n      const token = typeof window !== \"undefined\" ? localStorage.getItem(\"authToken\") : null;\n      if (!token) {\n        setError(\"No authentication token found\");\n        setLoading(false);\n        return;\n      }\n\n      const response = await fetch(\"https://rda.ngrok.app/api/farm-activities/\", {\n        headers: {\n          Authorization: `Bearer ${token}`,\n          \"Content-Type\": \"application/json\",\n          \"Accept\": \"application/json\",\n        },\n      });\n\n      if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);\n      \n      const data = await response.json();\n      const activities = data.results || [];\n      fetchedPages.current.add(1);\n      \n      const transformedData = activities.map((activity: any) => ({\n        id: activity.id || activity.land_preparation_id || activity.crop_history_id || 0,\n        residue_management_display: activity.residue_management_display || \"Not specified\",\n        field_name: activity.field_name || `Field ${activity.field}`,\n        crop_name: activity.crop_name || \"Not specified\",\n        land_prepared: activity.land_prepared || false,\n        preparation_date: activity.preparation_date || activity.date || activity.created_at,\n        methods_used: activity.methods_used || \"Not specified\",\n        organic_amendments_used: activity.organic_amendments_used || \"None\",\n        residue_management: activity.residue_management || \"not_specified\",\n        expected_sowing_date: activity.expected_sowing_date || null,\n        reason_not_prepared: activity.reason_not_prepared || null,\n        created_at: activity.created_at || activity.date || new Date().toISOString(),\n        field: activity.field || 0,\n        activity_type: activity.activity_type || \"land_preparation\",\n        status: activity.status || \"completed\",\n        notes: activity.notes || \"\",\n        farmer_id: activity.farmer_id,\n        farmer_name: activity.farmer_name,\n        land_preparation_id: activity.land_preparation_id,\n        average_yield: activity.average_yield,\n        cultivated_area_last_year: activity.cultivated_area_last_year,\n        planned_area_this_year: activity.planned_area_this_year,\n        variety_cultivated: activity.variety_cultivated,\n        crop_history_id: activity.crop_history_id,\n        crop_rotation_pattern: activity.crop_rotation_pattern,\n      }));\n      \n      setFarmActivities(transformedData);\n      setFilteredData(transformedData);\n      setNextUrl(data.next || null);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : \"Failed to fetch data\");\n      console.error(\"Error fetching farm activities data:\", err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const loadMoreData = async () => {\n    if (!nextUrl || isLoadingMore) return;\n    \n    try {\n      setIsLoadingMore(true);\n      const token = typeof window !== \"undefined\" ? localStorage.getItem(\"authToken\") : null;\n      if (!token) return;\n\n      const response = await fetch(nextUrl, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n          \"Content-Type\": \"application/json\",\n          \"Accept\": \"application/json\",\n        },\n      });\n\n      if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);\n      \n      const data = await response.json();\n      const newActivities = data.results || [];\n      \n      if (newActivities.length === 0) {\n        setNextUrl(null);\n        setIsLoadingMore(false);\n        return;\n      }\n      \n      const transformedNewData = newActivities.map((activity: any) => ({\n        id: activity.id || activity.land_preparation_id || activity.crop_history_id || 0,\n        residue_management_display: activity.residue_management_display || \"Not specified\",\n        field_name: activity.field_name || `Field ${activity.field}`,\n        crop_name: activity.crop_name || \"Not specified\",\n        land_prepared: activity.land_prepared || false,\n        preparation_date: activity.preparation_date || activity.date || activity.created_at,\n        methods_used: activity.methods_used || \"Not specified\",\n        organic_amendments_used: activity.organic_amendments_used || \"None\",\n        residue_management: activity.residue_management || \"not_specified\",\n        expected_sowing_date: activity.expected_sowing_date || null,\n        reason_not_prepared: activity.reason_not_prepared || null,\n        created_at: activity.created_at || activity.date || new Date().toISOString(),\n        field: activity.field || 0,\n        activity_type: activity.activity_type || \"land_preparation\",\n        status: activity.status || \"completed\",\n        notes: activity.notes || \"\",\n        farmer_id: activity.farmer_id,\n        farmer_name: activity.farmer_name,\n        land_preparation_id: activity.land_preparation_id,\n        average_yield: activity.average_yield,\n        cultivated_area_last_year: activity.cultivated_area_last_year,\n        planned_area_this_year: activity.planned_area_this_year,\n        variety_cultivated: activity.variety_cultivated,\n        crop_history_id: activity.crop_history_id,\n        crop_rotation_pattern: activity.crop_rotation_pattern,\n      }));\n      \n      setFarmActivities(prev => [...prev, ...transformedNewData]);\n      setNextUrl(data.next || null);\n      \n      if (data.next) {\n        try {\n          const url = new URL(data.next);\n          const pageParam = url.searchParams.get(\"page\");\n          if (pageParam) {\n            const pageNumber = parseInt(pageParam);\n            if (!fetchedPages.current.has(pageNumber)) {\n              fetchedPages.current.add(pageNumber);\n              currentPage.current = pageNumber;\n            }\n          }\n        } catch (e) {\n          console.log(\"Could not parse page number from URL\");\n        }\n      }\n    } catch (err) {\n      console.error(\"Error loading more data:\", err);\n      setError(\"Failed to load more data\");\n    } finally {\n      setIsLoadingMore(false);\n    }\n  };\n\n  const requestSort = (key: string) => {\n    let direction: 'asc' | 'desc' = 'asc';\n    if (sortConfig.key === key && sortConfig.direction === 'asc') {\n      direction = 'desc';\n    }\n    setSortConfig({ key, direction });\n  };\n\n  const getSortIcon = (key: string) => {\n    if (sortConfig.key !== key) return <ArrowUpDown className=\"h-3 w-3 ml-1\" />;\n    return sortConfig.direction === 'asc' \n      ? <ChevronUp className=\"h-3 w-3 ml-1\" /> \n      : <ChevronDown className=\"h-3 w-3 ml-1\" />;\n  };\n\n  const getLandPreparedColor = (prepared: boolean) => {\n    return prepared \n      ? \"bg-emerald-100 text-emerald-800 hover:bg-emerald-200\" \n      : \"bg-rose-100 text-rose-800 hover:bg-rose-200\";\n  };\n\n  const getResidueManagementColor = (management: string) => {\n    switch (management?.toLowerCase()) {\n      case \"burnt\": return \"bg-amber-100 text-amber-800 hover:bg-amber-200\";\n      case \"incorporated\": return \"bg-emerald-100 text-emerald-800 hover:bg-emerald-200\";\n      case \"removed\": return \"bg-sky-100 text-sky-800 hover:bg-sky-200\";\n      default: return \"bg-slate-100 text-slate-800 hover:bg-slate-200\";\n    }\n  };\n\n  const formatDate = (dateString: string | null) => {\n    if (!dateString) return \"Not scheduled\";\n    try {\n      return new Date(dateString).toLocaleDateString(\"en-US\", {\n        month: \"short\",\n        day: \"numeric\",\n        year: \"numeric\",\n      });\n    } catch (e) {\n      return \"Invalid date\";\n    }\n  };\n\n  const renderGridCard = (record: FarmActivityData) => {\n    const methods = parseMethods(record.methods_used);\n    const amendments = parseOrganicAmendments(record.organic_amendments_used);\n\n    return (\n      <Card key={`${record.id}-${record.field}`} className=\"group hover:shadow-lg transition-all duration-300 border border-slate-200 hover:border-primary/50 overflow-hidden\">\n        <CardContent className=\"p-0\">\n          {/* Header with gradient */}\n          <div className={`p-4 ${record.land_prepared ? 'bg-gradient-to-r from-emerald-50 to-emerald-100' : 'bg-gradient-to-r from-rose-50 to-rose-100'}`}>\n            <div className=\"flex justify-between items-start\">\n              <div>\n                <div className=\"flex items-center gap-2 mb-1\">\n                  <Wheat className=\"h-4 w-4 text-emerald-600\" />\n                  <h3 className=\"font-semibold text-slate-900 line-clamp-1 capitalize\">\n                    {record.crop_name}\n                  </h3>\n                </div>\n                <div className=\"flex items-center gap-2 text-xs text-slate-600\">\n                  <MapPin className=\"h-3 w-3\" />\n                  <span>{record.field_name}</span>\n                  {record.farmer_name && (\n                    <>\n                      <span>•</span>\n                      <span>{record.farmer_name}</span>\n                    </>\n                  )}\n                </div>\n              </div>\n              <div className=\"flex flex-col gap-1 items-end\">\n                <Badge \n                  className={`${getLandPreparedColor(record.land_prepared)} transition-colors`}\n                >\n                  {record.land_prepared ? \"Prepared\" : \"Not Prepared\"}\n                </Badge>\n                {record.activity_type && (\n                  <Badge variant=\"outline\" className=\"text-xs capitalize bg-white/50 backdrop-blur-sm\">\n                    {record.activity_type.replace('_', ' ')}\n                  </Badge>\n                )}\n              </div>\n            </div>\n          </div>\n\n          {/* Content */}\n          <div className=\"p-4\">\n            <div className=\"space-y-3\">\n              {/* Key metrics */}\n              <div className=\"grid grid-cols-2 gap-3\">\n                <div className=\"bg-slate-50 rounded-lg p-2\">\n                  <p className=\"text-xs text-slate-500 mb-1\">Variety</p>\n                  <p className=\"text-sm font-medium capitalize\">\n                    {record.variety_cultivated || \"N/A\"}\n                  </p>\n                </div>\n                {record.average_yield !== undefined && (\n                  <div className=\"bg-slate-50 rounded-lg p-2\">\n                    <p className=\"text-xs text-slate-500 mb-1\">Avg Yield</p>\n                    <p className=\"text-sm font-medium\">\n                      {record.average_yield} units\n                    </p>\n                  </div>\n                )}\n              </div>\n\n              {/* Date */}\n              <div className=\"flex items-center justify-between py-2 border-y border-slate-100\">\n                <div className=\"flex items-center gap-2 text-slate-600\">\n                  <Calendar className=\"h-4 w-4\" />\n                  <span className=\"text-sm\">Preparation</span>\n                </div>\n                <span className=\"font-medium text-sm\">\n                  {formatDate(record.preparation_date)}\n                </span>\n              </div>\n\n              {/* Crop rotation */}\n              {record.crop_rotation_pattern && (\n                <div className=\"bg-blue-50 p-2 rounded-lg\">\n                  <div className=\"flex items-center gap-2\">\n                    <Activity className=\"h-3 w-3 text-blue-600\" />\n                    <span className=\"text-xs font-medium text-blue-800\">Rotation: </span>\n                    <span className=\"text-xs text-blue-700\">{record.crop_rotation_pattern}</span>\n                  </div>\n                </div>\n              )}\n\n              {/* Conditional content */}\n              {record.land_prepared ? (\n                <>\n                  {/* Residue management */}\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex items-center gap-2 text-slate-600\">\n                      <Leaf className=\"h-4 w-4\" />\n                      <span className=\"text-sm\">Residue</span>\n                    </div>\n                    <Badge \n                      className={getResidueManagementColor(record.residue_management)}\n                    >\n                      {record.residue_management_display || \"Not specified\"}\n                    </Badge>\n                  </div>\n\n                  {/* Expected sowing */}\n                  {record.expected_sowing_date && (\n                    <div className=\"bg-blue-50 p-2 rounded-lg border border-blue-100\">\n                      <div className=\"flex items-center gap-2\">\n                        <Clock className=\"h-3 w-3 text-blue-600\" />\n                        <span className=\"text-xs font-medium text-blue-800\">Sowing: </span>\n                        <span className=\"text-xs text-blue-700\">{formatDate(record.expected_sowing_date)}</span>\n                      </div>\n                    </div>\n                  )}\n                </>\n              ) : (\n                <div className=\"bg-rose-50 p-2 rounded-lg border border-rose-100\">\n                  <div className=\"flex items-center gap-2\">\n                    <AlertCircle className=\"h-3 w-3 text-rose-600\" />\n                    <span className=\"text-xs font-medium text-rose-800\">Reason: </span>\n                    <span className=\"text-xs text-rose-700 line-clamp-1\">\n                      {record.reason_not_prepared || \"No reason provided\"}\n                    </span>\n                  </div>\n                </div>\n              )}\n            </div>\n\n            {/* View button */}\n            <Button\n              onClick={() => {\n                setSelectedRecord(record);\n                setIsDetailModalOpen(true);\n              }}\n              variant=\"outline\"\n              className=\"w-full mt-4 gap-2 group-hover:border-primary hover:bg-primary hover:text-primary-foreground transition-colors\"\n              size=\"sm\"\n            >\n              <Eye className=\"h-4 w-4\" />\n              View Details\n              <ChevronRight className=\"h-4 w-4 group-hover:translate-x-1 transition-transform\" />\n            </Button>\n          </div>\n\n          {/* Footer */}\n          <CardFooter className=\"border-t border-slate-100 bg-slate-50/50 py-3 px-4 flex justify-between text-xs text-slate-500\">\n            <div className=\"flex items-center gap-2\">\n              <div className={`w-2 h-2 rounded-full ${record.land_prepared ? 'bg-emerald-500' : 'bg-rose-500'}`} />\n              <span>ID: {record.id}</span>\n            </div>\n            {record.status && (\n              <Badge variant=\"outline\" className=\"text-xs bg-white\">\n                {record.status}\n              </Badge>\n            )}\n          </CardFooter>\n        </CardContent>\n      </Card>\n    );\n  };\n\n  const renderListView = (record: FarmActivityData) => {\n    return (\n      <div \n        key={`${record.id}-${record.field}`}\n        className=\"group hover:bg-slate-50 transition-colors rounded-lg border border-slate-200 p-4\"\n      >\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center gap-4 flex-1\">\n            <div className={`p-2 rounded-lg ${record.land_prepared ? 'bg-emerald-100' : 'bg-rose-100'}`}>\n              {record.land_prepared ? (\n                <CheckCircle className=\"h-5 w-5 text-emerald-600\" />\n              ) : (\n                <XCircle className=\"h-5 w-5 text-rose-600\" />\n              )}\n            </div>\n            \n            <div className=\"flex-1 min-w-0\">\n              <div className=\"flex items-center gap-3 mb-1\">\n                <h3 className=\"font-semibold text-slate-900 capitalize truncate\">\n                  {record.crop_name}\n                </h3>\n                <Badge className={getLandPreparedColor(record.land_prepared)}>\n                  {record.land_prepared ? \"Prepared\" : \"Not Prepared\"}\n                </Badge>\n                {record.activity_type && (\n                  <Badge variant=\"outline\" className=\"text-xs capitalize\">\n                    {record.activity_type.replace('_', ' ')}\n                  </Badge>\n                )}\n              </div>\n              <div className=\"flex items-center gap-4 text-sm text-slate-600\">\n                <span className=\"flex items-center gap-1\">\n                  <MapPin className=\"h-3 w-3\" />\n                  {record.field_name}\n                </span>\n                {record.farmer_name && (\n                  <span className=\"flex items-center gap-1\">\n                    <Users className=\"h-3 w-3\" />\n                    {record.farmer_name}\n                  </span>\n                )}\n                <span className=\"flex items-center gap-1\">\n                  <Calendar className=\"h-3 w-3\" />\n                  {formatDate(record.preparation_date)}\n                </span>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"flex items-center gap-4\">\n            <div className=\"text-right\">\n              <p className=\"text-sm font-medium text-slate-900 capitalize\">\n                {record.variety_cultivated || \"N/A\"}\n              </p>\n              <p className=\"text-xs text-slate-500\">Variety</p>\n            </div>\n            \n            <div className=\"text-right\">\n              <p className=\"text-sm font-medium text-slate-900\">\n                {record.average_yield ? `${record.average_yield} units` : \"N/A\"}\n              </p>\n              <p className=\"text-xs text-slate-500\">Yield</p>\n            </div>\n\n            <Button\n              onClick={() => {\n                setSelectedRecord(record);\n                setIsDetailModalOpen(true);\n              }}\n              variant=\"ghost\"\n              size=\"sm\"\n              className=\"opacity-0 group-hover:opacity-100 transition-opacity\"\n            >\n              <Eye className=\"h-4 w-4\" />\n            </Button>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  const parseMethods = (methods: string) => {\n    if (!methods || methods.trim() === \"\") return [\"No methods specified\"];\n    if (methods.includes(\"[object Object]\")) return [\"Various methods\"];\n    return methods.split(\",\").map(method => method.trim()).filter(Boolean);\n  };\n\n  const parseOrganicAmendments = (amendments: string) => {\n    if (!amendments || amendments.trim() === \"\") return [\"None\"];\n    if (amendments.includes(\"[object Object]\")) return [\"Various organic amendments\"];\n    return amendments.split(\",\").map(amendment => amendment.trim()).filter(Boolean);\n  };\n\n  const renderDetailModal = () => {\n    if (!selectedRecord) return null;\n    const methods = parseMethods(selectedRecord.methods_used);\n    const amendments = parseOrganicAmendments(selectedRecord.organic_amendments_used);\n\n    return (\n      <>\n        <DialogHeader>\n          <div className=\"flex items-start justify-between\">\n            <div>\n              <DialogTitle className=\"text-xl flex items-center gap-2\">\n                <div className={`p-2 rounded-lg ${selectedRecord.land_prepared ? 'bg-emerald-100' : 'bg-rose-100'}`}>\n                  {selectedRecord.land_prepared ? (\n                    <CheckCircle className=\"h-6 w-6 text-emerald-600\" />\n                  ) : (\n                    <XCircle className=\"h-6 w-6 text-rose-600\" />\n                  )}\n                </div>\n                <div>\n                  <span className=\"text-2xl font-bold text-slate-900 capitalize\">\n                    {selectedRecord.crop_name}\n                  </span>\n                  <p className=\"text-sm text-slate-600 mt-1\">\n                    Field {selectedRecord.field} • {selectedRecord.field_name}\n                  </p>\n                </div>\n              </DialogTitle>\n            </div>\n            <Badge className={getLandPreparedColor(selectedRecord.land_prepared)}>\n              {selectedRecord.land_prepared ? \"Prepared\" : \"Not Prepared\"}\n            </Badge>\n          </div>\n        </DialogHeader>\n\n        <div className=\"space-y-6\">\n          {/* Key Information Grid */}\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <Card>\n              <CardContent className=\"pt-6\">\n                <div className=\"space-y-3\">\n                  <div>\n                    <Label className=\"text-xs text-slate-500\">Crop Variety</Label>\n                    <p className=\"font-medium capitalize\">{selectedRecord.variety_cultivated || \"N/A\"}</p>\n                  </div>\n                  <div>\n                    <Label className=\"text-xs text-slate-500\">Farmer</Label>\n                    <div className=\"flex items-center gap-2\">\n                      <Users className=\"h-4 w-4 text-slate-400\" />\n                      <p className=\"font-medium\">{selectedRecord.farmer_name || \"N/A\"}</p>\n                    </div>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardContent className=\"pt-6\">\n                <div className=\"space-y-3\">\n                  <div>\n                    <Label className=\"text-xs text-slate-500\">Preparation Date</Label>\n                    <div className=\"flex items-center gap-2\">\n                      <Calendar className=\"h-4 w-4 text-slate-400\" />\n                      <p className=\"font-medium\">{formatDate(selectedRecord.preparation_date)}</p>\n                    </div>\n                  </div>\n                  {selectedRecord.expected_sowing_date && (\n                    <div>\n                      <Label className=\"text-xs text-slate-500\">Expected Sowing</Label>\n                      <div className=\"flex items-center gap-2\">\n                        <Clock className=\"h-4 w-4 text-slate-400\" />\n                        <p className=\"font-medium\">{formatDate(selectedRecord.expected_sowing_date)}</p>\n                      </div>\n                    </div>\n                  )}\n                </div>\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardContent className=\"pt-6\">\n                <div className=\"space-y-3\">\n                  <div>\n                    <Label className=\"text-xs text-slate-500\">Residue Management</Label>\n                    <Badge className={getResidueManagementColor(selectedRecord.residue_management)}>\n                      {selectedRecord.residue_management_display || \"N/A\"}\n                    </Badge>\n                  </div>\n                  {selectedRecord.crop_rotation_pattern && (\n                    <div>\n                      <Label className=\"text-xs text-slate-500\">Rotation Pattern</Label>\n                      <p className=\"font-medium\">{selectedRecord.crop_rotation_pattern}</p>\n                    </div>\n                  )}\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n\n          {/* Details Sections */}\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            {selectedRecord.land_prepared ? (\n              <>\n                <Card>\n                  <CardHeader>\n                    <CardTitle className=\"flex items-center gap-2\">\n                      <Package className=\"h-5 w-5 text-amber-600\" />\n                      Preparation Details\n                    </CardTitle>\n                  </CardHeader>\n                  <CardContent className=\"space-y-4\">\n                    <div>\n                      <Label className=\"text-sm font-medium mb-2\">Methods Used</Label>\n                      <div className=\"space-y-2\">\n                        {methods.map((method, index) => (\n                          <div key={index} className=\"flex items-center gap-2 text-sm\">\n                            <div className=\"w-1.5 h-1.5 rounded-full bg-amber-500\" />\n                            {method}\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n                    \n                    <div>\n                      <Label className=\"text-sm font-medium mb-2\">Organic Amendments</Label>\n                      <div className=\"space-y-2\">\n                        {amendments.map((amendment, index) => (\n                          <div key={index} className=\"flex items-center gap-2 text-sm\">\n                            <div className=\"w-1.5 h-1.5 rounded-full bg-emerald-500\" />\n                            {amendment}\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n                  </CardContent>\n                </Card>\n              </>\n            ) : (\n              <Card>\n                <CardHeader>\n                  <CardTitle className=\"flex items-center gap-2\">\n                    <AlertCircle className=\"h-5 w-5 text-rose-600\" />\n                    Reason Not Prepared\n                  </CardTitle>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"bg-rose-50 p-4 rounded-lg border border-rose-200\">\n                    <p className=\"text-rose-800\">{selectedRecord.reason_not_prepared || \"No reason provided\"}</p>\n                  </div>\n                </CardContent>\n              </Card>\n            )}\n\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-2\">\n                  <TrendingUp className=\"h-5 w-5 text-indigo-600\" />\n                  Yield & Area\n                </CardTitle>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                {selectedRecord.average_yield !== undefined && (\n                  <div>\n                    <Label className=\"text-sm font-medium mb-2\">Average Yield</Label>\n                    <div className=\"bg-indigo-50 p-3 rounded-lg\">\n                      <p className=\"text-xl font-bold text-indigo-700\">{selectedRecord.average_yield} units</p>\n                    </div>\n                  </div>\n                )}\n                \n                <div className=\"grid grid-cols-2 gap-4\">\n                  {selectedRecord.planned_area_this_year !== null && (\n                    <div>\n                      <Label className=\"text-sm font-medium mb-2\">Planned Area</Label>\n                      <div className=\"bg-emerald-50 p-3 rounded-lg\">\n                        <p className=\"text-lg font-bold text-emerald-700\">{selectedRecord.planned_area_this_year} ha</p>\n                      </div>\n                    </div>\n                  )}\n                  \n                  {selectedRecord.cultivated_area_last_year !== null && (\n                    <div>\n                      <Label className=\"text-sm font-medium mb-2\">Last Year</Label>\n                      <div className=\"bg-slate-50 p-3 rounded-lg\">\n                        <p className=\"text-lg font-bold text-slate-700\">{selectedRecord.cultivated_area_last_year} ha</p>\n                      </div>\n                    </div>\n                  )}\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n\n          {/* Notes and Metadata */}\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"flex items-center gap-2\">\n                <BarChart3 className=\"h-5 w-5 text-slate-600\" />\n                Additional Information\n              </CardTitle>\n            </CardHeader>\n            <CardContent>\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                <div>\n                  <Label className=\"text-sm text-slate-500 mb-2\">Activity Type</Label>\n                  <p className=\"font-medium capitalize\">{selectedRecord.activity_type?.replace('_', ' ') || \"Land Preparation\"}</p>\n                </div>\n                \n                <div>\n                  <Label className=\"text-sm text-slate-500 mb-2\">Status</Label>\n                  <Badge variant=\"outline\">{selectedRecord.status || \"Completed\"}</Badge>\n                </div>\n                \n                <div>\n                  <Label className=\"text-sm text-slate-500 mb-2\">Record Created</Label>\n                  <div className=\"flex items-center gap-2\">\n                    <Calendar className=\"h-4 w-4 text-slate-400\" />\n                    <p className=\"font-medium\">{formatDate(selectedRecord.created_at)}</p>\n                  </div>\n                </div>\n              </div>\n              \n              {selectedRecord.notes && (\n                <div className=\"mt-4\">\n                  <Label className=\"text-sm text-slate-500 mb-2\">Notes</Label>\n                  <div className=\"bg-slate-50 p-3 rounded-lg\">\n                    <p className=\"text-sm\">{selectedRecord.notes}</p>\n                  </div>\n                </div>\n              )}\n            </CardContent>\n          </Card>\n        </div>\n\n        <DialogFooter>\n          <Button variant=\"outline\" onClick={() => setIsDetailModalOpen(false)}>\n            Close\n          </Button>\n        </DialogFooter>\n      </>\n    );\n  };\n\n  if (loading) {\n    return (\n      <div className=\"space-y-8\">\n        {/* Header Skeleton */}\n        <div className=\"flex justify-between items-center\">\n          <div>\n            <Skeleton className=\"h-10 w-48\" />\n            <Skeleton className=\"h-4 w-64 mt-2\" />\n          </div>\n          <Skeleton className=\"h-10 w-32\" />\n        </div>\n\n        {/* Stats Skeleton */}\n        <div className=\"grid grid-cols-2 lg:grid-cols-5 gap-4\">\n          {[1, 2, 3, 4, 5].map(i => (\n            <Skeleton key={i} className=\"h-32 rounded-xl\" />\n          ))}\n        </div>\n\n        {/* Cards Skeleton */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          {[1, 2, 3, 4, 5, 6].map(i => (\n            <Skeleton key={i} className=\"h-64 rounded-xl\" />\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-8\">\n      {/* Header */}\n      <div className=\"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6\">\n        <div>\n          <h1 className=\"text-3xl font-bold bg-gradient-to-r from-slate-900 to-slate-700 bg-clip-text text-transparent\">\n            Farm Activities Dashboard\n          </h1>\n          <p className=\"text-slate-600 mt-2\">\n            Monitor and analyze all farm preparation activities across fields\n          </p>\n        </div>\n        <div className=\"flex items-center gap-3\">\n          <Button \n            variant=\"outline\" \n            size=\"sm\" \n            onClick={fetchFarmActivities}\n            className=\"gap-2\"\n          >\n            <BarChart3 className=\"h-4 w-4\" />\n            Refresh Data\n          </Button>\n        </div>\n      </div>\n\n      {/* Stats Overview */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4\">\n        <Card className=\"border-slate-200 hover:border-primary/50 transition-colors\">\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm font-medium text-slate-600 mb-1\">Total Activities</p>\n                <h3 className=\"text-2xl font-bold text-slate-900\">{totalRecords}</h3>\n                <p className=\"text-xs text-slate-500 mt-1\">{uniqueFieldsCount} fields</p>\n              </div>\n              <div className=\"h-12 w-12 rounded-lg bg-primary/10 flex items-center justify-center\">\n                <Activity className=\"h-6 w-6 text-primary\" />\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card className=\"border-slate-200 hover:border-emerald-200 transition-colors\">\n          <CardContent className=\"pt-6\">\n            <div className=\"space-y-3\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className=\"text-sm font-medium text-slate-600 mb-1\">Land Prepared</p>\n                  <h3 className=\"text-2xl font-bold text-emerald-700\">{landPreparedCount}</h3>\n                </div>\n                <div className=\"h-12 w-12 rounded-lg bg-emerald-100 flex items-center justify-center\">\n                  <CheckCircle className=\"h-6 w-6 text-emerald-600\" />\n                </div>\n              </div>\n              <Progress value={preparedPercentage} className=\"h-2\" />\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card className=\"border-slate-200 hover:border-rose-200 transition-colors\">\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm font-medium text-slate-600 mb-1\">Not Prepared</p>\n                <h3 className=\"text-2xl font-bold text-rose-700\">{landNotPreparedCount}</h3>\n                <p className=\"text-xs text-rose-500 mt-1\">Requires attention</p>\n              </div>\n              <div className=\"h-12 w-12 rounded-lg bg-rose-100 flex items-center justify-center\">\n                <XCircle className=\"h-6 w-6 text-rose-600\" />\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card className=\"border-slate-200 hover:border-blue-200 transition-colors\">\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm font-medium text-slate-600 mb-1\">Active Farmers</p>\n                <h3 className=\"text-2xl font-bold text-blue-700\">{uniqueFarmersCount}</h3>\n                <p className=\"text-xs text-blue-500 mt-1\">Managing fields</p>\n              </div>\n              <div className=\"h-12 w-12 rounded-lg bg-blue-100 flex items-center justify-center\">\n                <Users className=\"h-6 w-6 text-blue-600\" />\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card className=\"border-slate-200 hover:border-purple-200 transition-colors\">\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm font-medium text-slate-600 mb-1\">Planned Area</p>\n                <h3 className=\"text-2xl font-bold text-purple-700\">{totalPlannedArea} ha</h3>\n                <p className=\"text-xs text-purple-500 mt-1\">This season</p>\n              </div>\n              <div className=\"h-12 w-12 rounded-lg bg-purple-100 flex items-center justify-center\">\n                <Target className=\"h-6 w-6 text-purple-600\" />\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Controls Section */}\n      <Card className=\"border-slate-200\">\n        <CardContent className=\"p-6\">\n          <div className=\"flex flex-col lg:flex-row gap-4 items-center justify-between\">\n            <div className=\"flex-1 w-full\">\n              <div className=\"relative\">\n                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 h-4 w-4\" />\n                <Input\n                  placeholder=\"Search activities, crops, fields, or farmers...\"\n                  value={searchQuery}\n                  onChange={(e) => setSearchQuery(e.target.value)}\n                  className=\"pl-10 w-full max-w-md border-slate-300 focus:border-primary\"\n                />\n              </div>\n            </div>\n\n            <div className=\"flex flex-wrap items-center gap-3\">\n              <div className=\"flex items-center gap-3\">\n                <Select value={filterField} onValueChange={setFilterField}>\n                  <SelectTrigger className=\"w-[180px] border-slate-300\">\n                    <SelectValue placeholder=\"Filter by field\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"all\">All Fields</SelectItem>\n                    {uniqueFields.map((field) => (\n                      <SelectItem key={field.id} value={field.id.toString()}>\n                        {field.field_name}\n                      </SelectItem>\n                    ))}\n                  </SelectContent>\n                </Select>\n\n                <div className=\"flex items-center gap-1 border border-slate-300 rounded-lg p-1\">\n                  <Button\n                    size=\"sm\"\n                    variant={viewMode === \"grid\" ? \"default\" : \"ghost\"}\n                    onClick={() => setViewMode(\"grid\")}\n                    className=\"h-8 w-8 p-0\"\n                  >\n                    <Grid className=\"h-4 w-4\" />\n                  </Button>\n                  <Button\n                    size=\"sm\"\n                    variant={viewMode === \"list\" ? \"default\" : \"ghost\"}\n                    onClick={() => setViewMode(\"list\")}\n                    className=\"h-8 w-8 p-0\"\n                  >\n                    <List className=\"h-4 w-4\" />\n                  </Button>\n                </div>\n              </div>\n\n              <Tabs value={activeTab} onValueChange={setActiveTab} className=\"w-auto\">\n                <TabsList>\n                  <TabsTrigger value=\"all\">All</TabsTrigger>\n                  <TabsTrigger value=\"prepared\">Prepared</TabsTrigger>\n                  <TabsTrigger value=\"not-prepared\">Not Prepared</TabsTrigger>\n                </TabsList>\n              </Tabs>\n            </div>\n          </div>\n\n          {/* Sort Controls */}\n          <div className=\"mt-4 flex items-center justify-between\">\n            <div className=\"text-sm text-slate-600\">\n              Showing <span className=\"font-semibold\">{filteredData.length}</span> of{\" \"}\n              <span className=\"font-semibold\">{farmActivities.length}</span> activities\n            </div>\n            <div className=\"flex items-center gap-4\">\n              <span className=\"text-sm text-slate-600\">Sort by:</span>\n              <div className=\"flex gap-2\">\n                <Button\n                  variant=\"ghost\"\n                  size=\"sm\"\n                  onClick={() => requestSort(\"crop_name\")}\n                  className=\"gap-1\"\n                >\n                  Crop {getSortIcon(\"crop_name\")}\n                </Button>\n                <Button\n                  variant=\"ghost\"\n                  size=\"sm\"\n                  onClick={() => requestSort(\"preparation_date\")}\n                  className=\"gap-1\"\n                >\n                  Date {getSortIcon(\"preparation_date\")}\n                </Button>\n                <Button\n                  variant=\"ghost\"\n                  size=\"sm\"\n                  onClick={() => requestSort(\"land_prepared\")}\n                  className=\"gap-1\"\n                >\n                  Status {getSortIcon(\"land_prepared\")}\n                </Button>\n              </div>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Results Section */}\n      <div>\n        {filteredData.length === 0 ? (\n          <Card className=\"border-dashed border-slate-300\">\n            <CardContent className=\"py-12 text-center\">\n              <MapPin className=\"h-12 w-12 text-slate-400 mx-auto mb-4\" />\n              <h3 className=\"text-lg font-semibold text-slate-700 mb-2\">\n                No activities found\n              </h3>\n              <p className=\"text-slate-500 max-w-sm mx-auto\">\n                {searchQuery\n                  ? \"No records match your search criteria. Try different keywords.\"\n                  : \"No farm activities have been recorded yet.\"}\n              </p>\n            </CardContent>\n          </Card>\n        ) : (\n          <>\n            {viewMode === \"grid\" ? (\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                {filteredData.map(renderGridCard)}\n              </div>\n            ) : (\n              <div className=\"space-y-2\">\n                {filteredData.map(renderListView)}\n              </div>\n            )}\n\n            {/* Load More */}\n            {nextUrl && !isFiltered && (\n              <div className=\"mt-8 text-center\">\n                <Button\n                  variant=\"outline\"\n                  onClick={loadMoreData}\n                  disabled={isLoadingMore}\n                  className=\"min-w-[200px] gap-2\"\n                >\n                  {isLoadingMore ? (\n                    <>\n                      <Loader2 className=\"h-4 w-4 animate-spin\" />\n                      Loading...\n                    </>\n                  ) : (\n                    <>\n                      Load More Activities\n                      <span className=\"text-xs bg-slate-100 px-2 py-1 rounded\">\n                        Page {currentPage.current + 1}\n                      </span>\n                    </>\n                  )}\n                </Button>\n                <p className=\"text-sm text-slate-500 mt-2\">\n                  {farmActivities.length} records loaded\n                </p>\n              </div>\n            )}\n\n            {/* Status Messages */}\n            {!nextUrl && !isFiltered && farmActivities.length > 0 && (\n              <div className=\"mt-8 text-center\">\n                <div className=\"inline-flex items-center gap-2 bg-emerald-50 text-emerald-700 px-4 py-2 rounded-lg\">\n                  <CheckCircle className=\"h-4 w-4\" />\n                  <span>All activities loaded ({farmActivities.length} records)</span>\n                </div>\n              </div>\n            )}\n\n            {isFiltered && (\n              <div className=\"mt-8 text-center\">\n                <div className=\"inline-flex items-center gap-2 bg-blue-50 text-blue-700 px-4 py-2 rounded-lg\">\n                  <Filter className=\"h-4 w-4\" />\n                  <span>Showing {filteredData.length} filtered records</span>\n                  <Button\n                    variant=\"ghost\"\n                    size=\"sm\"\n                    onClick={() => {\n                      setSearchQuery(\"\");\n                      setFilterField(\"all\");\n                      setActiveTab(\"all\");\n                      setActivityTypeFilter(\"land_preparation\");\n                    }}\n                    className=\"ml-2 text-xs\"\n                  >\n                    Clear Filters\n                  </Button>\n                </div>\n              </div>\n            )}\n          </>\n        )}\n      </div>\n\n      {/* Detail Modal */}\n      <Dialog open={isDetailModalOpen} onOpenChange={setIsDetailModalOpen}>\n        <DialogContent className=\"max-w-4xl max-h-[90vh] overflow-y-auto\">\n          {renderDetailModal()}\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n}"],"names":[],"mappings":"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"}}]
}